# dom.Parts

Renn < Nodet > を基底クラスとし、 dom.Nodet を構成する要素として、Nodet のパート Nodet を管理するクラス。

dom.def.Element の parts フィールドであらわされる定義は、
Renn をモデルとする動的な順序構成をパートの並びに反映させなくてはならないので、
単純な Node のアレイではなく、PartFragment の連結リストを介在させ、フラグメント内の順序を保つ。

| Fragment | parts |
| --- | --- |
| 0 .. 3 | 0 .. 3 |
| 0 .. 3 | 4 .. 7 |
| 0 .. 3 | 8 .. 11 |
| 0 .. 3 | 12 .. 15 |

## Order 追従でできる？

Nodet -|> Order

Nodet *- Parts *- Nodet

Order の変更通知から Nodet が受け持つ node の順序が正しく保たれるか、動作のオーバーヘッドはどのくらいかを考えます。

### 末尾に生成

[] -> [ 0:A ]

### 中間に生成

[0 1 2 3] -> [0 1 2 3 4 5]\
[A B C D] -> [A B E F C D]

### 中間を削除

[0 1 2 3 4 5 6] -> [0 1 2 3]\
[A B C D E F G] -> [A B E F]

### 移動

| 0 | 1 | 2 | 3 | 4 | 5 | 6 |
| --- | --- | --- | --- | --- | --- | --- |
| A | B | C | **D** | **E** | **F** | G |
| A | **D** | **E** | **F** | B | C | G |


[0 1 2 3 4 5 6] -> [0 1 2 3 4 5 6]\
[A B C D E F G] -> [A B E F G C D]




