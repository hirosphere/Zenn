import { Exist, Leaf, log } from "../../meh/index.js";
import * as data from "./data/items.js";
export class PokeList extends Exist {
    search = new Leaf.String(this, "poke", () => this.start_search());
    items = Array.from(data.itemMap.values(), (value) => new PokeItem(this, value));
    iid = 0;
    start_search() {
        log("changed", this.search.value);
        const s = this.search.value;
        this.items.forEach(item => item.setSearch(s));
    }
    search_current = 0;
    search_step() {
        ;
    }
}
export class PokeItem extends Exist {
    constructor(com, data) {
        super(com);
        this.id = data.id;
        this.en = data.en;
        this.ja = data.ja;
        this.一致前 = new Leaf.String(this, this.en);
        this.一致 = new Leaf.String(this, "");
        this.一致後 = new Leaf.String(this, "");
    }
    setSearch(query) {
        const name = this.en;
        let start = name.toLowerCase().indexOf(query.toLowerCase());
        if (start < 0)
            start = name.length;
        const end = start + query.length;
        this.一致前.value = name.substring(0, start);
        this.一致.value = name.substring(start, end);
        this.一致後.value = name.substring(end, name.length);
    }
    id;
    一致前;
    一致;
    一致後;
    en;
    ja;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9kZXMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi90cy1zcmMvMTEvcG9rZS1zZWFyY2gvbW9kZXMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLEtBQUssRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLE1BQU0sb0JBQW9CLENBQUM7QUFDdEQsT0FBTyxLQUFLLElBQUksTUFBTSxpQkFBaUIsQ0FBQztBQUV4QyxNQUFNLE9BQU8sUUFBUyxTQUFRLEtBQUs7SUFFbEIsTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBRSxJQUFJLEVBQUUsTUFBTSxFQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsQ0FBRSxDQUFDO0lBRXBFLEtBQUssR0FBRyxLQUFLLENBQUMsSUFBSSxDQUVqQyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sRUFBRSxFQUNyQixDQUFFLEtBQUssRUFBRyxFQUFFLENBQUMsSUFBSSxRQUFRLENBQUUsSUFBSSxFQUFFLEtBQUssQ0FBRSxDQUN4QyxDQUFDO0lBRVEsR0FBRyxHQUFHLENBQUMsQ0FBQztJQUVSLFlBQVk7UUFFckIsR0FBRyxDQUFFLFNBQVMsRUFBRSxJQUFJLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBRSxDQUFDO1FBRXBDLE1BQU0sQ0FBQyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFDO1FBRTVCLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxDQUVqQixJQUFJLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUUsQ0FBQyxDQUFFLENBQzNCLENBQUM7SUFDSCxDQUFDO0lBRVMsY0FBYyxHQUFHLENBQUMsQ0FBQztJQUVuQixXQUFXO1FBRXBCLENBQUM7SUFDRixDQUFDO0NBRUQ7QUFFRCxNQUFNLE9BQU8sUUFBUyxTQUFRLEtBQUs7SUFFbEMsWUFBYSxHQUFXLEVBQUUsSUFBZ0I7UUFFekMsS0FBSyxDQUFFLEdBQUcsQ0FBRSxDQUFDO1FBRWIsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQ2xCLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQztRQUNsQixJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUM7UUFFbEIsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUUsSUFBSSxFQUFFLElBQUksQ0FBQyxFQUFFLENBQUUsQ0FBQztRQUM1QyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBRSxJQUFJLEVBQUUsRUFBRSxDQUFFLENBQUM7UUFDdEMsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBRSxDQUFDO0lBQ3hDLENBQUM7SUFFTSxTQUFTLENBQUUsS0FBYztRQUUvQixNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDO1FBQ3JCLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxPQUFPLENBQUUsS0FBSyxDQUFDLFdBQVcsRUFBRSxDQUFFLENBQUM7UUFDOUQsSUFBSSxLQUFLLEdBQUcsQ0FBQztZQUFHLEtBQUssR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDO1FBQ3BDLE1BQU0sR0FBRyxHQUFHLEtBQUssR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFDO1FBRWpDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUUsQ0FBQyxFQUFFLEtBQUssQ0FBRSxDQUFDO1FBQzVDLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUUsS0FBSyxFQUFFLEdBQUcsQ0FBRSxDQUFDO1FBQzdDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxNQUFNLENBQUUsQ0FBQztJQUNyRCxDQUFDO0lBRWUsRUFBRSxDQUFDO0lBQ0gsR0FBRyxDQUFDO0lBQ0osRUFBRSxDQUFDO0lBQ0gsR0FBRyxDQUFDO0lBQ0osRUFBRSxDQUFDO0lBQ0gsRUFBRSxDQUFDO0NBQ25CIn0=