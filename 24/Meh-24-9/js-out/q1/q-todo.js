import { Leaf, Renn, ef, each, dom, log } from "../meh/index.js";
export var sv;
(function (sv) {
    sv.defv = {
        title: "ToDo 日本史",
        items: [
            { text: "矢じりを作る" },
            { text: "稲作を教える" },
            { text: "製鉄を教える" },
            { text: "民族を移動する" },
            { text: "都を作る" },
            { text: "都を移す" },
            { text: "半島を統一する" },
            { text: "アヘンを売る" },
            { text: "ロシアに勝つ" },
            { text: "阪急電鉄を興す" },
            { text: "箱根土地を始める" },
            { text: "英米を倒す" },
            { text: "ハイチュウを買う" },
            { text: "たけのこの里を分譲" },
        ]
    };
})(sv || (sv = {}));
export var vm;
(function (vm) {
    class App {
        title;
        items;
        constructor(v = sv.defv) {
            this.title = Leaf.str.new(v.title);
            this.items = new Items(v.items);
            document.title = v.title;
        }
    }
    vm.App = App;
    class Items extends Renn {
        constructor(sv) {
            super();
            this.sv = sv;
        }
        set sv(v) {
            this.clear();
            const s = v.map(v => new Item(v));
            this.new(s);
        }
    }
    vm.Items = Items;
    class Item {
        text;
        completed;
        constructor(v) {
            this.text = Leaf.str.new(v.text);
            this.completed = Leaf.bool.new(false);
            log(v.text);
        }
    }
    vm.Item = Item;
})(vm || (vm = {}));
export var vc;
(function (vc) {
    vc.App = () => {
        const m = new vm.App;
        return ef.article({ class: "fc" }, ef.h1(m.title), ef.ul({ class: "todo-list" }, each(m.items, o => Item(o))));
    };
    const Item = (o) => {
        const m = o.src;
        return ef.li({ class: ["todo-item", { completed: m.completed }] }, ef.span(o.count), ef.span(m.text), checkbox("済", m.completed));
    };
    const checkbox = (label, state) => {
        return ef.input({
            attrs: { type: "checkbox" },
            props: { checked: state },
            acts: {
                change(ev) {
                    if (ev.target instanceof HTMLInputElement) {
                        state.value = ev.target.checked;
                    }
                }
            }
        });
    };
})(vc || (vc = {}));
const main = () => {
    dom.add(vc.App(), "body");
};
main();
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicS10b2RvLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vdHMtc3JjL3ExL3EtdG9kby50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsSUFBSSxFQUFPLElBQUksRUFBRSxFQUFFLEVBQUUsSUFBSSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQVMsTUFBTSxpQkFBaUIsQ0FBRTtBQUU5RSxNQUFNLEtBQVcsRUFBRSxDQW1DbEI7QUFuQ0QsV0FBaUIsRUFBRTtJQWNMLE9BQUksR0FDakI7UUFDQyxLQUFLLEVBQUcsVUFBVTtRQUNsQixLQUFLLEVBQ0w7WUFDQyxFQUFFLElBQUksRUFBRyxRQUFRLEVBQUU7WUFDbkIsRUFBRSxJQUFJLEVBQUcsUUFBUSxFQUFFO1lBQ25CLEVBQUUsSUFBSSxFQUFHLFFBQVEsRUFBRTtZQUNuQixFQUFFLElBQUksRUFBRyxTQUFTLEVBQUU7WUFDcEIsRUFBRSxJQUFJLEVBQUcsTUFBTSxFQUFFO1lBQ2pCLEVBQUUsSUFBSSxFQUFHLE1BQU0sRUFBRTtZQUNqQixFQUFFLElBQUksRUFBRyxTQUFTLEVBQUU7WUFDcEIsRUFBRSxJQUFJLEVBQUcsUUFBUSxFQUFFO1lBQ25CLEVBQUUsSUFBSSxFQUFHLFFBQVEsRUFBRTtZQUNuQixFQUFFLElBQUksRUFBRyxTQUFTLEVBQUU7WUFDcEIsRUFBRSxJQUFJLEVBQUcsVUFBVSxFQUFFO1lBQ3JCLEVBQUUsSUFBSSxFQUFHLE9BQU8sRUFBRTtZQUNsQixFQUFFLElBQUksRUFBRyxVQUFVLEVBQUU7WUFDckIsRUFBRSxJQUFJLEVBQUcsV0FBVyxFQUFFO1NBQ3RCO0tBQ0QsQ0FBQztBQUNILENBQUMsRUFuQ2dCLEVBQUUsS0FBRixFQUFFLFFBbUNsQjtBQUVELE1BQU0sS0FBVyxFQUFFLENBNkNsQjtBQTdDRCxXQUFpQixFQUFFO0lBRWxCLE1BQWEsR0FBRztRQUVDLEtBQUssQ0FBRTtRQUNQLEtBQUssQ0FBRTtRQUV2QixZQUFhLElBQWEsRUFBRSxD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