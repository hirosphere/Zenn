import { Leaf } from "../model/leaf.js";
import * as nodet from "./nodet.js";
export const add = (part, com_qe, rel_qe) => {
    const com_e = typeof com_qe == "string" ? document.querySelector(com_qe) : com_qe || null;
    const rel_e = typeof rel_qe == "string" ? document.querySelector(rel_qe) : rel_qe || null;
    if (part instanceof nodet.Element) {
        com_e && part.node && com_e.insertBefore(part.node, rel_e);
    }
};
function create_nodet(ns, type, first, ...remain) {
    const ec = ((first instanceof Object) && !(first instanceof nodet.Element ||
        first instanceof Leaf ||
        first instanceof Node)
        && first
        || undefined);
    if (ec) {
        return new nodet.Element({ ns, type, ...ec, parts: remain });
    }
    else {
        const parts = [];
        return new nodet.Element({ ns, type, parts });
    }
}
class Handler {
    ns;
    constructor(ns) {
        this.ns = ns;
    }
    get(target, type) {
        return this.makefn(type);
    }
    fns = new Map;
    makefn(type) {
        if (this.fns.has(type))
            return this.fns.get(type);
        const fn = (first, ...remain) => create_nodet(this.ns, type, first, ...remain);
        this.fns.set(type, fn);
        return fn;
    }
}
export const ef = new Proxy({}, new Handler(""));
export const sf = new Proxy({}, new Handler("http://www.w3.org/2000/svg"));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWYuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi90cy1zcmMvbWVoL2RvbS9lZi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sa0JBQWtCLENBQUM7QUFFeEMsT0FBTyxLQUFLLEtBQUssTUFBTSxZQUFZLENBQUM7QUFFcEMsTUFBTSxDQUFDLE1BQU0sR0FBRyxHQUNoQixDQUNDLElBQWlCLEVBQ2pCLE1BQXlCLEVBQ3pCLE1BQXdCLEVBRWpCLEVBQUU7SUFFVCxNQUFNLEtBQUssR0FBb0IsT0FBTyxNQUFNLElBQUksUUFBUSxDQUFDLENBQUMsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFFLE1BQU0sQ0FBRSxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksSUFBSSxDQUFDO0lBQzdHLE1BQU0sS0FBSyxHQUFpQixPQUFPLE1BQU0sSUFBSSxRQUFRLENBQUMsQ0FBQyxDQUFDLFFBQVEsQ0FBQyxhQUFhLENBQUUsTUFBTSxDQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sSUFBSSxJQUFJLENBQUM7SUFFMUcsSUFBSSxJQUFJLFlBQVksS0FBSyxDQUFDLE9BQU8sRUFDakM7UUFDQyxLQUFLLElBQUksSUFBSSxDQUFDLElBQUksSUFBSSxLQUFLLENBQUMsWUFBWSxDQUFFLElBQUksQ0FBQyxJQUFJLEVBQUUsS0FBSyxDQUFFLENBQUE7S0FDNUQ7QUFDRixDQUFDLENBQUE7QUFTRCxTQUFTLFlBQVksQ0FFcEIsRUFBVyxFQUNYLElBQWEsRUFDYixLQUFtRCxFQUNuRCxHQUFJLE1BQW1CO0lBR3ZCLE1BQU0sRUFBRSxHQUNSLENBQ0MsQ0FBRSxLQUFLLFlBQVksTUFBTSxDQUFFLElBQUksQ0FDL0IsQ0FDQyxLQUFLLFlBQVksS0FBSyxDQUFDLE9BQU87UUFDOUIsS0FBSyxZQUFZLElBQUk7UUFDckIsS0FBSyxZQUFZLElBQUksQ0FDckI7V0FDRSxLQUFLO1dBQ0wsU0FBUyxDQUNaLENBQUM7SUFFRixJQUFJLEVBQUUsRUFDTjtRQUNDLE9BQU8sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxHQUFJLEVBQUUsRUFBRSxLQUFLLEVBQUcsTUFBTSxFQUFFLENBQUUsQ0FBQTtLQUNoRTtTQUdEO1FBQ0MsTUFBTSxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ2pCLE9BQU8sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFFLEVBQUUsRUFBRSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsQ0FBRSxDQUFBO0tBQy9DO0FBQ0YsQ0FBQztBQUdELE1BQU0sT0FBTztJQUVTO0lBQXJCLFlBQXFCLEVBQVc7UUFBWCxPQUFFLEdBQUYsRUFBRSxDQUFTO0lBQy9CLENBQUM7SUFFSyxHQUFHLENBQUUsTUFBVSxFQUFFLElBQWE7UUFFcEMsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFFLElBQUksQ0FBRSxDQUFDO0lBQzVCLENBQUM7SUFFTyxHQUFHLEdBQUcsSUFBSSxHQUFzQyxDQUFFO0lBRWxELE1BQU0sQ0FBRSxJQUFhO1FBRTVCLElBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsSUFBSSxDQUFFO1lBQUksT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxJQUFJLENBQUUsQ0FBQztRQUV4RCxNQUFNLEVBQUUsR0FBNEIsQ0FBRSxLQUFLLEVBQUUsR0FBSSxNQUFNLEVBQUcsRUFBRSxDQUFDLFlBQVksQ0FBRSxJQUFJLENBQUMsRUFBRSxFQUFFLElBQUksRUFBRSxLQUFLLEVBQUUsR0FBSSxNQUFNLENBQUUsQ0FBQztRQUM5RyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxJQUFJLEVBQUUsRUFBRSxDQUFFLENBQUM7UUFDekIsT0FBTyxFQUFFLENBQUM7SUFDWCxDQUFDO0NBQ0Q7QUFRRCxNQUFNLENBQUMsTUFBTSxFQUFFLEdBQUcsSUFBSSxLQUFLLENBRTFCLEVBQWtDLEVBQ2xDLElBQUksT0FBTyxDQUFFLEVBQUUsQ0FBRSxDQUNqQixDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sRUFBRSxHQUFHLElBQUksS0FBSyxDQUUxQixFQUFpQyxFQUNqQyxJQUFJLE9BQU8sQ0FBRSw0QkFBNEIsQ0FBRSxDQUMzQyxDQUFDIn0=