import { Leaf, ef, dom } from "../../meh/index.js";
import * as link from "./link.js";
import { links } from "./link-data.js";
const App = () => {
    const clock = new ClockModel();
    return null ||
        [
            ef.h1(Clock(clock)),
            ...links.map(i => link.Block(i)),
        ];
};
const loop = (count, fn) => {
    const rt = new Array;
    for (let i = 0; i < count; i++) {
        rt.push(fn(i));
    }
    return rt;
};
const Clock = (m) => {
    return ef.span(m.time, " ", m.iid);
};
class ClockModel {
    time = Leaf.str.new("");
    iid = Leaf.num.new(0);
    constructor() {
        this.update();
    }
    update() {
        const date = new Date();
        this.iid.value = setTimeout(() => this.update(), 1000 - date.getTime() % 1000);
        this.time.value = date.toLocaleString();
    }
}
dom.add(App(), "body");
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3RzLXNyYy9zdXJmL2luZGV4L21haW4udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQVEsR0FBRyxFQUFPLE1BQU0sb0JBQW9CLENBQUM7QUFDOUQsT0FBTyxLQUFLLElBQUksTUFBTSxXQUFXLENBQUM7QUFDbEMsT0FBTyxFQUFFLEtBQUssRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRXZDLE1BQU0sR0FBRyxHQUFHLEdBQUcsRUFBRTtJQUVoQixNQUFNLEtBQUssR0FBRyxJQUFJLFVBQVUsRUFBRSxDQUFDO0lBRS9CLE9BQU8sSUFBSTtRQUNYO1lBQ0MsRUFBRSxDQUFDLEVBQUUsQ0FBRSxLQUFLLENBQUUsS0FBSyxDQUFFLENBQUU7WUFFdkIsR0FBRyxLQUFLLENBQUMsR0FBRyxDQUFFLENBQUMsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBRSxDQUFDLENBQUUsQ0FBRTtTQUNwQyxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxJQUFJLEdBQUcsQ0FBUSxLQUFjLEVBQUUsRUFBd0IsRUFBUyxFQUFFO0lBRXZFLE1BQU0sRUFBRSxHQUFHLElBQUksS0FBVyxDQUFDO0lBQzNCLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFHLENBQUMsR0FBRyxLQUFLLEVBQUcsQ0FBQyxFQUFHLEVBQ2pDO1FBQ0MsRUFBRSxDQUFDLElBQUksQ0FBRSxFQUFFLENBQUUsQ0FBQyxDQUFFLENBQUUsQ0FBRTtLQUNwQjtJQUNELE9BQU8sRUFBRSxDQUFDO0FBQ1gsQ0FBQyxDQUFBO0FBRUQsTUFBTSxLQUFLLEdBQUcsQ0FBRSxDQUFjLEVBQUcsRUFBRTtJQUVsQyxPQUFPLEVBQUUsQ0FBQyxJQUFJLENBRWIsQ0FBQyxDQUFDLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBQyxDQUFDLEdBQUcsQ0FDbEIsQ0FBQztBQUNILENBQUMsQ0FBQztBQUVGLE1BQU0sVUFBVTtJQUVmLElBQUksR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRyxFQUFFLENBQUUsQ0FBQztJQUMzQixHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUcsQ0FBQyxDQUFFLENBQUM7SUFFekI7UUFFQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUM7SUFDZixDQUFDO0lBRUQsTUFBTTtRQUVMLE1BQU0sSUFBSSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUM7UUFDeEIsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLEdBQUcsVUFBVSxDQUFFLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsRUFBRSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sRUFBRSxHQUFHLElBQUksQ0FBRSxDQUFDO1FBQ2pGLElBQUksQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxjQUFjLEVBQUUsQ0FBQztJQUN6QyxDQUFDO0NBQ0Q7QUFNRCxHQUFHLENBQUMsR0FBRyxDQUFFLEdBQUcsRUFBRSxFQUFFLE1BQU0sQ0FBRSxDQUFBIn0=