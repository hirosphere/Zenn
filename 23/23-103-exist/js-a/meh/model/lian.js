// class Lian ( 連：リエン・れん ) Arrayをリアクティブにするクラス //
const log = console.log;
export class Lian extends Array {
    refs = new Set();
    ref(ref) {
        this.refs.add(ref);
    }
    add(item, order) {
        order = Math.min(order ?? this.length, this.length);
        this.splice(order, 0, item);
    }
    splice(start, deleteCount, ...newItems) {
        const rt = super.splice(start, deleteCount, ...newItems);
        const remove = rt.length;
        const add = newItems.length;
        return rt;
    }
}
(function (Lian) {
    class Ref {
    }
    Lian.Ref = Ref;
})(Lian || (Lian = {}));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibGlhbi5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3RzLXNyYy9tZWgvbW9kZWwvbGlhbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxnREFBZ0Q7QUFFaEQsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQztBQUV4QixNQUFNLE9BQU8sSUFBaUIsU0FBUSxLQUFXO0lBRXRDLElBQUksR0FBRyxJQUFJLEdBQUcsRUFBc0IsQ0FBQztJQUV4QyxHQUFHLENBQUUsR0FBb0I7UUFFL0IsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUUsR0FBRyxDQUFFLENBQUM7SUFDdEIsQ0FBQztJQUVNLEdBQUcsQ0FBRSxJQUFRLEVBQUUsS0FBZ0I7UUFFckMsS0FBSyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUUsS0FBSyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUUsSUFBSSxDQUFDLE1BQU0sQ0FBRSxDQUFDO1FBQ3RELElBQUksQ0FBQyxNQUFNLENBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxJQUFJLENBQUUsQ0FBQztJQUMvQixDQUFDO0lBRU0sTUFBTSxDQUFFLEtBQWEsRUFBRSxXQUFtQixFQUFFLEdBQUcsUUFBYztRQUVuRSxNQUFNLEVBQUUsR0FBRyxLQUFLLENBQUMsTUFBTSxDQUFFLEtBQUssRUFBRSxXQUFXLEVBQUUsR0FBSSxRQUFRLENBQUUsQ0FBQztRQUU1RCxNQUFNLE1BQU0sR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDO1FBQ3pCLE1BQU0sR0FBRyxHQUFHLFFBQVEsQ0FBQyxNQUFNLENBQUM7UUFFNUIsT0FBTyxFQUFFLENBQUM7SUFDWCxDQUFDO0NBQ0Q7QUFFRCxXQUFpQixJQUFJO0lBRXBCLE1BQWEsR0FBRztLQUVmO0lBRlksUUFBRyxNQUVmLENBQUE7QUFDRixDQUFDLEVBTGdCLElBQUksS0FBSixJQUFJLFFBS3BCIn0=