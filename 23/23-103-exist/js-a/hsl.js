import { leaf as l, ef } from "./meh/index.js";
import { Range } from "./gui/range.js";
l.bool;
export class Branch {
    hue;
    sat;
    lig;
    css;
    constructor(v = { hue: 210, sat: 0.65, lig: 0.65 }) {
        const rel = () => this.update();
        this.hue = l.num(v.hue, { rel });
        this.sat = l.num(v.sat, { rel });
        this.lig = l.num(v.lig, { rel });
        this.css = l.str("");
        this.update();
    }
    ;
    update() {
        const css = `hsl( ${this.hue.value}, ${r(this.sat.value)}, ${r(this.lig.value)} )`;
        this.css.value = css;
    }
}
const r = (v) => String(Math.round(v * 100 * 10000) / 10000) + "%";
export const HSLRange = (data) => {
    const { div } = ef;
    const conv = (value) => String(Math.round(value * 100));
    return div({ class: "hsl-range" }, Range.UI({ title: "Hue", value: data.hue, max: 360 }), Range.UI({ title: "Sat", value: data.sat, max: 1, step: 0.01, conv, unit: "%" }), Range.UI({ title: "Light", value: data.lig, max: 1, step: 0.01, conv, unit: "%" }));
};
export const HSLApplet = (value = new Branch) => {
    const { div, h2, span } = ef;
    return div({ class: "applet" }, h2("HSLApplet"), div({ class: "applet-body" }, HSLRange(value), div({
        style: { background: value.css, height: "300px", borderRadius: "1ex",
            display: "flex", alignItems: "center", justifyContent: "space-around" }
    }, span({ style: { color: "hsl( 0, 0%, 0% )", flexGrow: "1fr" } }, value.css), span({ style: { color: "hsl( 0, 0%, 100% )", flexGrow: "1fr" } }, value.css))));
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaHNsLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vdHMtc3JjL2hzbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsSUFBSSxJQUFJLENBQUMsRUFBYSxFQUFFLEVBQUUsTUFBTSxnQkFBZ0IsQ0FBQztBQUMxRCxPQUFPLEVBQUUsS0FBSyxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFdkMsQ0FBQyxDQUFDLElBQUksQ0FBQztBQUlQLE1BQU0sT0FBTyxNQUFNO0lBRWxCLEdBQUcsQ0FBQztJQUFDLEdBQUcsQ0FBQztJQUFDLEdBQUcsQ0FBQztJQUNkLEdBQUcsQ0FBQztJQUVKLFlBQWEsSUFBVSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFO1FBRXhELE1BQU0sR0FBRyxHQUFHLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUUsQ0FBQztRQUVoQyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUUsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUFFLEdBQUcsRUFBRSxDQUFFLENBQUM7UUFDbkMsSUFBSSxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFFLENBQUMsQ0FBQyxHQUFHLEVBQUUsRUFBRSxHQUFHLEVBQUUsQ0FBRSxDQUFDO1FBQ25DLElBQUksQ0FBQyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBRSxDQUFDLENBQUMsR0FBRyxFQUFFLEVBQUUsR0FBRyxFQUFFLENBQUUsQ0FBQztRQUVuQyxJQUFJLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUUsRUFBRSxDQUFFLENBQUM7UUFFdkIsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDO0lBQ2YsQ0FBQztJQUFBLENBQUM7SUFFRixNQUFNO1FBRUwsTUFBTSxHQUFHLEdBQUcsUUFBUyxJQUFJLENBQUMsR0FBRyxDQUFDLEtBQU0sS0FBTSxDQUFDLENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUcsS0FBTSxDQUFDLENBQUUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUcsSUFBSSxDQUFDO1FBQzdGLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQztJQUN0QixDQUFDO0NBQ0Q7QUFFRCxNQUFNLENBQUMsR0FBRyxDQUFFLENBQVUsRUFBRyxFQUFFLENBQUMsTUFBTSxDQUFFLElBQUksQ0FBQyxLQUFLLENBQUUsQ0FBQyxHQUFHLEdBQUcsR0FBRyxLQUFLLENBQUUsR0FBRyxLQUFLLENBQUUsR0FBRyxHQUFHLENBQUM7QUFFbEYsTUFBTSxDQUFDLE1BQU0sUUFBUSxHQUFHLENBQUUsSUFBYSxFQUFHLEVBQUU7SUFFM0MsTUFBTSxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQztJQUVuQixNQUFNLElBQUksR0FBRyxDQUFFLEtBQWMsRUFBRyxFQUFFLENBQUMsTUFBTSxDQUFFLElBQUksQ0FBQyxLQUFLLENBQUUsS0FBSyxHQUFHLEdBQUcsQ0FBRSxDQUFFLENBQUM7SUFFdkUsT0FBTyxHQUFHLENBRVQsRUFBRSxLQUFLLEVBQUUsV0FBVyxFQUFFLEVBQ3RCLEtBQUssQ0FBQyxFQUFFLENBQUUsRUFBRSxLQUFLLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBRSxFQUN2RCxLQUFLLENBQUMsRUFBRSxDQUFFLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBRSxFQUNsRixLQUFLLENBQUMsRUFBRSxDQUFFLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxLQUFLLEVBQUUsSUFBSSxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsQ0FBQyxFQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxHQUFHLEVBQUUsQ0FBRSxDQUNwRixDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sU0FBUyxHQUFHLENBQUUsUUFBaUIsSUFBSSxNQUFNLEVBQUcsRUFBRTtJQUUxRCxNQUFNLEVBQUUsR0FBRyxFQUFFLEVBQUUsRUFBRSxJQUFJLEVBQUUsR0FBRyxFQUFFLENBQUM7SUFFN0IsT0FBTyxHQUFHLENBRVQsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFLEVBQ25CLEVBQUUsQ0FBRSxXQUFXLENBQUUsRUFDakIsR0FBRyxDQUVGLEVBQUUsS0FBSyxFQUFFLGFBQWEsRUFBRSxFQUN4QixRQUFRLENBQUUsS0FBSyxDQUFFLEVBQ2pCLEdBQUcsQ0FFRjtRQUNDLEtBQUssRUFBRSxFQUFFLFVBQVUsRUFBRSxLQUFLLENBQUMsR0FBRyxFQUFFLE1BQU0sRUFBRSxPQUFPLEVBQUUsWUFBWSxFQUFFLEtBQUs7WUFDcEUsT0FBTyxFQUFFLE1BQU0sRUFBRSxVQUFVLEVBQUUsUUFBUSxFQUFFLGNBQWMsRUFBRSxjQUFjLEVBQUU7S0FDdkUsRUFDRCxJQUFJLENBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxLQUFLLEVBQUUsa0JBQWtCLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBRSxFQUM1RSxJQUFJLENBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxLQUFLLEVBQUUsb0JBQW9CLEVBQUUsUUFBUSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUUsS0FBSyxDQUFDLEdBQUcsQ0FBRSxDQUM5RSxDQUNELENBQ0QsQ0FBQztBQUNILENBQUMsQ0FBQSJ9