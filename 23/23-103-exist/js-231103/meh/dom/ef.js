import { defs } from "./defs.js";
import { Nodette } from "./nodette.js";
const log = console.log;
//
export const create = (def, ceqsel, rel) => {
    const ce = typeof ceqsel == "string" ? document.querySelector(ceqsel) : ceqsel;
    let nodet = new Nodette(def, ce, rel);
    return { delete() { nodet.delete(); } };
};
class Handler {
    ns;
    constructor(ns) {
        this.ns = ns;
        ;
    }
    get(target, type) {
        return this.makefn(type);
    }
    fns = new Map;
    makefn(type) {
        if (this.fns.has(type))
            return this.fns.get(type);
        log(type);
        const fn = (...args) => defs.createElement(type, ...args);
        this.fns.set(type, fn);
        return fn;
    }
}
const createElementFactory = (ns) => {
    return new Proxy({}, new Handler(ns));
};
export const ef = createElementFactory("");
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZWYuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi90cy1zcmMvbWVoL2RvbS9lZi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsSUFBSSxFQUFFLE1BQU0sV0FBVyxDQUFDO0FBQ2pDLE9BQU8sRUFBRSxPQUFPLEVBQUUsTUFBTSxjQUFjLENBQUM7QUFFdkMsTUFBTSxHQUFHLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQztBQUN4QixFQUFFO0FBRUYsTUFBTSxDQUFDLE1BQU0sTUFBTSxHQUFHLENBQUUsR0FBa0IsRUFBRSxNQUF5QixFQUFFLEdBQVksRUFBRyxFQUFFO0lBRXZGLE1BQU0sRUFBRSxHQUFHLE9BQU8sTUFBTSxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLGFBQWEsQ0FBRSxNQUFNLENBQUUsQ0FBQyxDQUFDLENBQUMsTUFBTSxDQUFDO0lBRWpGLElBQUksS0FBSyxHQUFHLElBQUksT0FBTyxDQUFFLEdBQUcsRUFBRSxFQUFFLEVBQUUsR0FBRyxDQUFFLENBQUM7SUFFeEMsT0FBTyxFQUFFLE1BQU0sS0FBSyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztBQUN6QyxDQUFDLENBQUE7QUFPRCxNQUFNLE9BQU87SUFFUztJQUFyQixZQUFxQixFQUFXO1FBQVgsT0FBRSxHQUFGLEVBQUUsQ0FBUztRQUUvQixDQUFDO0lBQ0YsQ0FBQztJQUVNLEdBQUcsQ0FBRSxNQUFVLEVBQUUsSUFBYTtRQUVwQyxPQUFPLElBQUksQ0FBQyxNQUFNLENBQUUsSUFBSSxDQUFFLENBQUM7SUFDNUIsQ0FBQztJQUVELEdBQUcsR0FBRyxJQUFJLEdBQWtDLENBQUU7SUFFOUMsTUFBTSxDQUFFLElBQWE7UUFFcEIsSUFBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBRSxJQUFJLENBQUU7WUFBSSxPQUFPLElBQUksQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFFLElBQUksQ0FBRSxDQUFDO1FBRXhELEdBQUcsQ0FBRSxJQUFJLENBQUUsQ0FBQztRQUVaLE1BQU0sRUFBRSxHQUFHLENBQUUsR0FBSSxJQUFVLEVBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUUsSUFBSSxFQUFFLEdBQUksSUFBSSxDQUFFLENBQUM7UUFDdEUsSUFBSSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUUsSUFBSSxFQUFFLEVBQUUsQ0FBRSxDQUFDO1FBQ3pCLE9BQU8sRUFBRSxDQUFDO0lBQ1gsQ0FBQztDQUNEO0FBRUQsTUFBTSxvQkFBb0IsR0FBRyxDQUF1QixFQUFXLEVBQUcsRUFBRTtJQUVuRSxPQUFPLElBQUksS0FBSyxDQUFHLEVBQU8sRUFBRSxJQUFJLE9BQU8sQ0FBRSxFQUFFLENBQUUsQ0FBRSxDQUFDO0FBQ2pELENBQUMsQ0FBQTtBQUVELE1BQU0sQ0FBQyxNQUFNLEVBQUUsR0FBRyxvQkFBb0IsQ0FBMEIsRUFBRSxDQUFFLENBQUMifQ==