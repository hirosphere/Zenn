import { Exist, root, Leaf, each } from "../meh/index.js";
import { dom, defs, ef } from "../meh/index.js";
const log = console.log;
const m = { a: Symbol() };
const o = { [m.a]: "aa" };
o[m.a] = "bb";
export const quest2 = (ce) => {
    // dom1();
    // dom2( ce );
    const self = new Exist(root);
    ef1(self, ce);
};
const ef1 = (owner, ce) => {
    const x = new Leaf.Boolean(owner, false);
    const def = ef.p({ attrs: { "eoria": "" } }, "First Factory", 1, 2, 3, true, false);
    const a = ef.ul({ style: { display: "flex", flexDirection: "column", gap: "0px" } }, ef.li(ef.button({ acts: { click() { owner.terminate(); } } }, "terminate()")), ef.li("一本でも"), each(["苺", "人参", "サンダル", "ヨット"], v => ef.li(v)), ...Phases(owner, 10, 3));
    dom.create(owner, ef.section(def, a, ef.p({}, "一本でも")), ce);
};
const Phase = (owner, step, framerate) => {
    const phase = new Leaf.Number(owner, 0);
    const color = new Leaf.String(owner, "");
    setInterval(() => { phase.v = (phase.v + (step / framerate)) % 360; update(); }, 1000 / framerate);
    const update = () => {
        color.v = `hsl( ${fr(phase.v, 3)}, 65%, 65% )`;
    };
    update();
    return ef.li({ style: {
            "display": "grid", "gridTemplateColumns": "12ex 30ex 50ex",
            "fontSize": "16px", backgroundColor: color, padding: "4ex"
        }
    }, ef.b("色相"), " ", 
    // ef.span( phase.sc( v => fr( v, 2 ) ) ), " ",
    // ef.span( phase.sc( v => "" ) ), " ",
    ef.span({ style: { fontSize: "13px", color: "white" } }, color));
};
const Phases = (owner, count, step) => {
    return loop(count, i => Phase(owner, 8 + i * 0.3, 20));
};
const loop = (count, fn) => {
    const rt = [];
    for (let i = 0; i < count; i++)
        rt[i] = fn(i);
    return rt;
};
class Timer extends Exist {
    constructor(owner, update, rate) {
        super(owner);
        this.iid = setInterval(update, 1000 / rate);
        update();
    }
    iid;
    terminate() {
        this.iid && clearInterval(this.iid);
        super.terminate();
    }
}
const fr = (n, f) => {
    const s = Math.round(n * 10 ** f).toString();
    return s.slice(0, -f) + "." + s.slice(-f);
};
const dom2 = (ce) => {
    const char = {
        attrs: {},
    };
    const parts = [
        "Paragraph Element", new defs.Element("", "br", {}, []),
        each(["One", "Deux", "Tri", "Vier", "O", "Liu", "Nana"], v => v + "です。"),
        " --- ",
        "12345678"
    ];
    // dom.createNodet( new dom.defs.Element( "", "p", char, parts ), ce );
    // dom.createNodet( "WoW Wow", ce );
};
const dom1 = () => {
    const def = {
        attrs: {
            "tabIndex": 5,
            "clientLeft": 491,
            "z": "",
            "mumu mu": "z"
        },
    };
    const ec = {
        "attrs": {
            "tabIndex": 2,
            "value": "帰りは山手線",
            "data-npoco": "",
        }
    };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXVlc3QyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vdHMtc3JjL3F1ZXN0cy9xdWVzdDIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFTLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFrQixJQUFJLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNqRixPQUFPLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUVoRCxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDO0FBRXhCLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUM7QUFDMUIsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFFLENBQUMsQ0FBQyxDQUFDLENBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQztBQUM1QixDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBRSxHQUFHLElBQUksQ0FBQztBQUVoQixNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsQ0FBRSxFQUFZLEVBQUcsRUFBRTtJQUV4QyxVQUFVO0lBQ1YsY0FBYztJQUVkLE1BQU0sSUFBSSxHQUFHLElBQUksS0FBSyxDQUFFLElBQUksQ0FBRSxDQUFDO0lBRS9CLEdBQUcsQ0FBRSxJQUFJLEVBQUUsRUFBRSxDQUFFLENBQUM7QUFDakIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxHQUFHLEdBQUcsQ0FBRSxLQUFhLEVBQUUsRUFBWSxFQUFHLEVBQUU7SUFFN0MsTUFBTSxDQUFDLEdBQWUsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFFLEtBQUssRUFBRSxLQUFLLENBQUUsQ0FBQztJQUV2RCxNQUFNLEdBQUcsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsT0FBTyxFQUFFLEVBQUUsRUFBRSxFQUFFLEVBQUUsZUFBZSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFF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