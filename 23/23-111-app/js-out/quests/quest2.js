import { Exist, root, Leaf, Branch, each } from "../meh/index.js";
import { dom, defs, ef } from "../meh/index.js";
const log = console.log;
const m = { a: Symbol() };
const o = { [m.a]: "aa" };
o[m.a] = "bb";
export const quest2 = (ce) => {
    // dom1();
    // dom2( ce );
    const self = new Exist(root);
    ef1(self, ce);
};
const ef1 = (owner, ce) => {
    const ex = new Exist(owner);
    const x = new Leaf.Boolean(owner, false);
    const def = ef.p({ attrs: { "eoria": "" } }, ...["First Factory", 1, 2, 3, true, false].join(" - "));
    const a = ef.ul({ style: { display: "flex", flexDirection: "column", gap: "0px" } }, ef.li(ef.button({ acts: { click() { owner.terminate(); } } }, "terminate()")), ef.li("一本でも"), each(["苺", "人参", "サンダル", "ヨット"], v => ef.li(v)), ...Phases(owner, 30, 3));
    dom.create(owner, ef.section(def, a, ef.p({}, "一本でも", PhaseApp(ex))), ce);
};
class PhaseAppState extends Branch {
    update() {
        ;
    }
    mode = new Leaf(this, "Hue");
}
const PhaseApp = (com) => {
    return ef.section(ef.h2("PhaseApp"));
};
const Phase = (owner, step, framerate) => {
    const phase = new Leaf.Number(owner, 90);
    const color = new Leaf.String(owner, "");
    setInterval(() => { phase.v = (phase.v + (step / framerate)) % 360; update(); }, 1000 / framerate);
    const update = () => {
        color.v = `hsl( ${fr(phase.v, 3)}, 65%, 65% )`;
    };
    update();
    return ef.li({ style: {
            "display": "grid", "gridTemplateColumns": "12ex 60ex 0ex",
            "fontSize": "14px", backgroundColor: color, padding: "1.0ex"
        }
    }, ef.b({ style: { color: "hsl( 0, 0%, 96% )" } }, "Phase"), " ", 
    // ef.span( phase.sc( v => fr( v, 2 ) ) ), " ",
    // ef.span( phase.sc( v => "" ) ), " ",
    ef.span({ style: { fontSize: "14px", color: "white" } }, color));
};
const Phases = (owner, count, step) => {
    return loop(count, i => Phase(owner, 8 + i * 0.3, 50));
};
const loop = (count, fn) => {
    const rt = [];
    for (let i = 0; i < count; i++)
        rt[i] = fn(i);
    return rt;
};
class Timer extends Exist {
    constructor(owner, update, rate) {
        super(owner);
        this.iid = setInterval(update, 1000 / rate);
        update();
    }
    iid;
    terminate() {
        this.iid && clearInterval(this.iid);
        super.terminate();
    }
}
const fr = (n, f) => {
    const s = Math.round(n * 10 ** f).toString();
    return s.slice(0, -f) + "." + s.slice(-f);
};
const dom2 = (ce) => {
    const char = {
        attrs: {},
    };
    const parts = [
        "Paragraph Element", new defs.Element("", "br", {}, []),
        each(["One", "Deux", "Tri", "Vier", "O", "Liu", "Nana"], v => v + "です。"),
        " --- ",
        "12345678"
    ];
    // dom.createNodet( new dom.defs.Element( "", "p", char, parts ), ce );
    // dom.createNodet( "WoW Wow", ce );
};
const dom1 = () => {
    const def = {
        attrs: {
            "tabIndex": 5,
            "clientLeft": 491,
            "z": "",
            "mumu mu": "z"
        },
    };
    const ec = {
        "attrs": {
            "tabIndex": 2,
            "value": "帰りは山手線",
            "data-npoco": "",
        }
    };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXVlc3QyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vdHMtc3JjL3F1ZXN0cy9xdWVzdDIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFTLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFFLE1BQU0sRUFBVSxJQUFJLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNqRixPQUFPLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUVoRCxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDO0FBRXhCLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLE1BQU0sRUFBRSxFQUFFLENBQUM7QUFDMUIsTUFBTSxDQUFDLEdBQUcsRUFBRSxDQUFFLENBQUMsQ0FBQyxDQUFDLENBQUUsRUFBRSxJQUFJLEVBQUUsQ0FBQztBQUM1QixDQUFDLENBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBRSxHQUFHLElBQUksQ0FBQztBQUVoQixNQUFNLENBQUMsTUFBTSxNQUFNLEdBQUcsQ0FBRSxFQUFZLEVBQUcsRUFBRTtJQUV4QyxVQUFVO0lBQ1YsY0FBYztJQUVkLE1BQU0sSUFBSSxHQUFHLElBQUksS0FBSyxDQUFFLElBQUksQ0FBRSxDQUFDO0lBRS9CLEdBQUcsQ0FBRSxJQUFJLEVBQUUsRUFBRSxDQUFFLENBQUM7QUFDakIsQ0FBQyxDQUFDO0FBRUYsTUFBTSxHQUFHLEdBQUcsQ0FBRSxLQUFhLEVBQUUsRUFBWSxFQUFHLEVBQUU7SUFFN0MsTUFBTSxFQUFFLEdBQUcsSUFBSSxLQUFLLENBQUUsS0FBSyxDQUFFLENBQUM7SUFDOUIsTUFBTSxDQUFDLEdBQWUsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFFLEtBQUssRUFBRSxLQUFLLENBQUUsQ0FBQztJQUV2RCxNQUFNLEdBQUcsR0FBRyxFQUFFLENBQUMsQ0FBQyxDQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsT0FBTyxFQUFF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