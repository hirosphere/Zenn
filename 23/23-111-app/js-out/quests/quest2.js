import { Exist, root, Leaf, each } from "../meh/index.js";
import { dom, defs, ef } from "../meh/index.js";
const log = console.log;
export const quest2 = (ce) => {
    // dom1();
    // dom2( ce );
    const self = new Exist(root);
    ef1(self, ce);
};
const ef1 = (owner, ce) => {
    const x = new Leaf.Boolean(owner, false);
    const def = ef.p({ attrs: { "eoria": "" } }, "First Factory", 1, 2, 3, true, false);
    const a = ef.ul({ style: { display: "flex", flexDirection: "column", gap: "0px" } }, ef.li(ef.button({ acts: { click() { owner.terminate(); } } }, "terminate()")), ef.li("一本でも"), each(["苺", "人参", "サンダル", "ヨット"], v => ef.li(v)), ...Phases(owner, 10, 3));
    dom.create(owner, ef.section(def, a, ef.p({}, "一本でも")), ce);
};
const Phase = (owner, step, framerate) => {
    const phase = new Leaf.Number(owner, 0);
    const color = new Leaf.String(owner, "");
    setInterval(() => { phase.v = (phase.v + (step / framerate)) % 360; update(); }, 1000 / framerate);
    const update = () => {
        color.v = `hsl( ${fr(phase.v, 2)}, 65%, 65% )`;
    };
    update();
    return ef.li({ style: {
            "display": "grid", "gridTemplateColumns": "12ex 30ex 50ex",
            "fontSize": "16px", backgroundColor: color, padding: "4ex"
        }
    }, ef.b("色相"), " ", 
    // ef.span( phase.sc( v => fr( v, 2 ) ) ), " ",
    // ef.span( phase.sc( v => "" ) ), " ",
    ef.span({ style: { fontSize: "13px", color: "white" } }, color));
};
const Phases = (owner, count, step) => {
    return loop(count, i => Phase(owner, 8 + i * 0.3, 5));
};
const loop = (count, fn) => {
    const rt = [];
    for (let i = 0; i < count; i++)
        rt[i] = fn(i);
    return rt;
};
class Timer extends Exist {
    constructor(owner, update, rate) {
        super(owner);
        this.iid = setInterval(update, 1000 / rate);
        update();
    }
    iid;
    terminate() {
        this.iid && clearInterval(this.iid);
        super.terminate();
    }
}
const fr = (n, f) => {
    const s = Math.round(n * 10 ** f).toString();
    return s.slice(0, -f) + "." + s.slice(-f);
};
const dom2 = (ce) => {
    const char = {
        attrs: {},
    };
    const parts = [
        "Paragraph Element", new defs.Element("", "br", {}, []),
        each(["One", "Deux", "Tri", "Vier", "O", "Liu", "Nana"], v => v + "です。"),
        " --- ",
        "12345678"
    ];
    // dom.createNodet( new dom.defs.Element( "", "p", char, parts ), ce );
    // dom.createNodet( "WoW Wow", ce );
};
const dom1 = () => {
    const def = {
        attrs: {
            "tabIndex": 5,
            "clientLeft": 491,
            "z": "",
            "mumu mu": "z"
        },
    };
    const ec = {
        "attrs": {
            "tabIndex": 2,
            "value": "帰りは山手線",
            "data-npoco": "",
        }
    };
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicXVlc3QyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vdHMtc3JjL3F1ZXN0cy9xdWVzdDIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFTLEtBQUssRUFBRSxJQUFJLEVBQUUsSUFBSSxFQUFrQixJQUFJLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUNqRixPQUFPLEVBQUUsR0FBRyxFQUFFLElBQUksRUFBRSxFQUFFLEVBQUUsTUFBTSxpQkFBaUIsQ0FBQztBQUVoRCxNQUFNLEdBQUcsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDO0FBRXhCLE1BQU0sQ0FBQyxNQUFNLE1BQU0sR0FBRyxDQUFFLEVBQVksRUFBRyxFQUFFO0lBRXhDLFVBQVU7SUFDVixjQUFjO0lBRWQsTUFBTSxJQUFJLEdBQUcsSUFBSSxLQUFLLENBQUUsSUFBSSxDQUFFLENBQUM7SUFFL0IsR0FBRyxDQUFFLElBQUksRUFBRSxFQUFFLENBQUUsQ0FBQztBQUNqQixDQUFDLENBQUM7QUFFRixNQUFNLEdBQUcsR0FBRyxDQUFFLEtBQWEsRUFBRSxFQUFZLEVBQUcsRUFBRTtJQUU3QyxNQUFNLENBQUMsR0FBZSxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUUsS0FBSyxFQUFFLEtBQUssQ0FBRSxDQUFDO0lBRXZELE1BQU0sR0FBRyxHQUFHLEVBQUUsQ0FBQyxDQUFDLENBQUUsRUFBRSxLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsRUFBRSxFQUFFLEVBQUUsRUFBRSxlQUFlLEVBQUUsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBRSxDQUFDO0lBRXRGLE1BQU0sQ0FBQyxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBRWQsRUFBRSxLQUFLLEVBQUUsRUFBRSxPQUFPLEVBQUUsTUFBTSxFQUFFLGFBQWEsRUFBRSxRQUFRLEVBQUUsR0FBRyxFQUFFLEtBQUssRUFBRSxFQUFFLEVBRW5FLEVBQUUsQ0FBQyxFQUFFLENBQUUs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