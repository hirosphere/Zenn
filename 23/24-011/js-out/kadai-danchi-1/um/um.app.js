import { Exist, log } from "../../meh/index.js";
import * as navi from "./um.navi.js";
import mapsrc from "../map/danchi.js";
export class App extends Exist {
    constructor(con) {
        super(con);
        const danchi = new navi.Danchi(this, mapsrc);
        const index = this.make_index(danchi);
        navi.browser.index.value = index;
    }
    make_index(danchi) {
        const params = new URLSearchParams(location.search);
        const roompath = params.get("room") ?? "";
        const room = danchi.rooms[roompath];
        log("room", roompath, room?.title.v);
        return room ?? danchi;
    }
    ;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidW0uYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vdHMtc3JjL2thZGFpLWRhbmNoaS0xL3VtL3VtLmFwcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxNQUFNLG9CQUFvQixDQUFDO0FBQ2hELE9BQU8sS0FBSyxJQUFJLE1BQU0sY0FBYyxDQUFDO0FBQ3JDLE9BQU8sTUFBTSxNQUFNLGtCQUFrQixDQUFDO0FBRXRDLE1BQU0sT0FBTyxHQUFJLFNBQVEsS0FBSztJQUU3QixZQUFhLEdBQXFCO1FBRWpDLEtBQUssQ0FBRSxHQUFHLENBQUUsQ0FBQztRQUViLE1BQU0sTUFBTSxHQUFHLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBRSxJQUFJLEVBQUUsTUFBTSxDQUFFLENBQUM7UUFFL0MsTUFBTSxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBRSxNQUFNLENBQUUsQ0FBQztRQUN4QyxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxLQUFLLEdBQUcsS0FBSyxDQUFDO0lBQ2xDLENBQUM7SUFFRCxVQUFVLENBQUUsTUFBb0I7UUFFL0IsTUFBTSxNQUFNLEdBQUcsSUFBSSxlQUFlLENBQUUsUUFBUSxDQUFDLE1BQU0sQ0FBRSxDQUFDO1FBRXRELE1BQU0sUUFBUSxHQUFHLE1BQU0sQ0FBQyxHQUFHLENBQUUsTUFBTSxDQUFFLElBQUksRUFBRSxDQUFDO1FBQzVDLE1BQU0sSUFBSSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUUsUUFBUSxDQUFFLENBQUM7UUFFdEMsR0FBRyxDQUFFLE1BQU0sRUFBRSxRQUFRLEVBQUUsSUFBSSxFQUFFLEtBQUssQ0FBQyxDQUFDLENBQUUsQ0FBQztRQUV2QyxPQUFPLElBQUksSUFBSSxNQUFNLENBQUU7SUFHeEIsQ0FBQztJQUFBLENBQUM7Q0FDRiJ9