import { Exist, Leaf, ef } from "../../../meh/index.js";
import { PageA } from "../../um/index.js";
var models;
(function (models) {
    class App extends Exist {
        source_json = new Leaf.String(this, "");
        constructor(con) {
            super(con);
            this.load();
        }
        async load() {
            this.clear();
            const res = await fetch("https://www.jma.go.jp/bosai/quake/data/list.json");
            if (res.status == 200) {
                const data = await res.json();
                const list = data.map((i, n) => [
                    String(n + 1),
                    i.at.slice(0, 19).replace("T", " "),
                    i.anm,
                    i.mag,
                    i.maxi,
                    i.cod
                ]
                    .join("\t")).join("\n");
                this.source_json.value = JSON.stringify(data, null, "   ");
            }
        }
        clear() { }
    }
    models.App = App;
})(models || (models = {}));
var ui;
(function (ui) {
    ui.Content = (room) => {
        const model = new models.App(room);
        return ef.section({ class: "v-flex" }, ef.section(ef.button({ acts: { click: model.load } }, "Load"), ef.button({ acts: { click: model.clear } }, "Clear")), ef.section({ class: "v-flex" }, 
        //	ta( model.list ),
        ta(model.source_json), ef.p()));
    };
    const Item = () => {
        ;
    };
    const ta = (model) => ef.textarea({
        style: {
            height: "250px",
        },
        props: { value: model },
    });
})(ui || (ui = {}));
export const Page = (room) => PageA({
    index: room,
    content: ui.Content(room)
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vdHMtc3JjL2thZGFpLWRhbmNoaS0xLzEvMTMvMzAyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxLQUFLLEVBQUUsSUFBSSxFQUFPLEVBQUUsRUFBRSxNQUFNLHVCQUF1QixDQUFDO0FBQzdELE9BQU8sRUFBZSxLQUFLLEVBQVEsTUFBTSxtQkFBbUIsQ0FBQztBQUU3RCxJQUFVLE1BQU0sQ0F3Q2Y7QUF4Q0QsV0FBVSxNQUFNO0lBRWYsTUFBYSxHQUFJLFNBQVEsS0FBSztRQUU3QixXQUFXLEdBQUcsSUFBSSxJQUFJLENBQUMsTUFBTSxDQUFFLElBQUksRUFBRSxFQUFFLENBQUUsQ0FBQztRQUUxQyxZQUFhLEdBQXFCO1lBRWpDLEtBQUssQ0FBRSxHQUFHLENBQUUsQ0FBQztZQUNiLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNiLENBQUM7UUFFRCxLQUFLLENBQUMsSUFBSTtZQUVULElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztZQUViLE1BQU0sR0FBRyxHQUFHLE1BQU0sS0FBSyxDQUFFLGtEQUFrRCxDQUFFLENBQUM7WUFDOUUsSUFBSSxHQUFHLENBQUMsTUFBTSxJQUFJLEdBQUcsRUFDckI7Z0JBQ0MsTUFBTSxJQUFJLEdBQUcsTUFBTSxHQUFHLENBQUMsSUFBSSxFQUFFLENBQUM7Z0JBRTlCLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUUsQ0FBRSxDQUFPLEVBQUUsQ0FBVSxFQUFHLEVBQUUsQ0FDakQ7b0JBQ0MsTUFBTSxDQUFFLENBQUMsR0FBRyxDQUFDLENBQUU7b0JBQ2YsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUUsQ0FBQyxFQUFFLEVBQUUsQ0FBRSxDQUFDLE9BQU8sQ0FBRSxHQUFHLEVBQUUsR0FBRyxDQUFFO29CQUN2QyxDQUFDLENBQUMsR0FBRztvQkFDTCxDQUFDLENBQUMsR0FBRztvQkFDTCxDQUFDLENBQUMsSUFBSTtvQkFDTixDQUFDLENBQUMsR0FBRztpQkFDTDtxQkFDQSxJQUFJLENBQUUsSUFBSSxDQUFFLENBQUUsQ0FBQyxJQUFJLENBQUUsSUFBSSxDQUFFLENBQUM7Z0JBRTdCLElBQUksQ0FBQyxXQUFXLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUUsSUFBSSxFQUFFLElBQUksRUFBRSxLQUFLLENBQUUsQ0FBQzthQUM3RDtRQUNGLENBQUM7UUFFRCxLQUFLLEtBQ0osQ0FBQztLQUVGO0lBckNZLFVBQUcsTUFxQ2YsQ0FBQTtBQUNGLENBQUMsRUF4Q1MsTUFBTSxLQUFOLE1BQU0sUUF3Q2Y7QUFHRCxJQUFVLEVBQUUsQ0FzQ1g7QUF0Q0QsV0FBVSxFQUFFO0lBRUUsVUFBTyxHQUFHLENBQUUsSUFBZ0IsRUFBbUIsRUFBRTtRQUU3RCxNQUFNLEtBQUssR0FBRyxJQUFJLE1BQU0sQ0FBQyxHQUFHLENBQUUsSUFBSSxDQUFFLENBQUM7UUFFckMsT0FBTyxFQUFFLENBQUMsT0FBTyxDQUVoQixFQUFFLEtBQUssRUFBRSxRQUFRLEVBQUUsRUFDbkIsRUFBRSxDQUFDLE9BQU8sQ0FFVCxFQUFFLENBQUMsTUFBTSxDQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLE1BQU0sQ0FBRSxFQUNwRCxFQUFFLENBQUMsTUFBTSxDQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxLQUFLLEVBQUUsRUFBRSxFQUFFLE9BQU8sQ0FBRSxDQUV0RCxFQUNELEVBQUUsQ0FBQyxPQUFPLENBRVQsRUFBRSxLQUFLLEVBQUUsUUFBUSxFQUFFO1FBQ3BCLG9CQUFvQjtRQUNuQixFQUFFLENBQUUsS0FBSyxDQUFDLFdBQVcsQ0FBRSxFQUN2QixFQUFFLENBQUMsQ0FBQyxFQUFJLENBQ1IsQ0FDRCxDQUFBO0lBQ0YsQ0FBQyxDQUFBO0lBRUQsTUFBTSxJQUFJLEdBQUcsR0FBRyxFQUFFO1FBRWpCLENBQUM7SUFDRixDQUFDLENBQUM7SUFFRixNQUFNLEVBQUUsR0FBRyxDQUFFLEtBQW1CLEVBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQ2hEO1FBQ0EsS0FBSyxFQUNMO1lBQ0MsTUFBTSxFQUFFLE9BQU87U0FDZjtRQUNELEtBQUssRUFBRSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7S0FDdkIsQ0FBQyxDQUFDO0FBQ0osQ0FBQyxFQXRDUyxFQUFFLEtBQUYsRUFBRSxRQXNDWDtBQUVELE1BQU0sQ0FBQyxNQUFNLElBQUksR0FBaUIsQ0FBRSxJQUFJLEVBQUcsRUFBRSxDQUFDLEtBQUssQ0FDbEQ7SUFDQSxLQUFLLEVBQUUsSUFBSTtJQUNYLE9BQU8sRUFBRSxFQUFFLENBQUMsT0FBTyxDQUFFLElBQUksQ0FBRTtDQUMzQixDQUFDLENBQUMifQ==