import { Leaf, ef } from "../../../meh/index.js";
import { PageA } from "../../um/index.js";
const create_model = (room) => {
    const model = {
        json: new Leaf.String(room, "JSON"),
        list: new Leaf.String(room, "リスト"),
        load: async () => {
            model.clear();
            const res = await fetch("https://www.jma.go.jp/bosai/quake/data/list.json");
            if (res.status == 200) {
                const data = await res.json();
                const list = data.map((i, n) => [
                    String(n + 1),
                    i.at.slice(0, 19).replace("T", " "),
                    i.anm,
                    i.mag,
                    i.maxi,
                    i.cod
                ]
                    .join("\t")).join("\n");
                model.list.value = list;
                model.json.value = JSON.stringify(data, null, "   ");
            }
        },
        clear: () => {
            model.json.value = "";
            model.list.value = "";
        },
        clear_json: () => model.json.value = "",
    };
    model.load();
    return model;
};
var ui;
(function (ui) {
    ui.Content = (room) => {
        const model = create_model(room);
        return ef.section({ class: "v-flex" }, ef.section(ef.button({ acts: { click: model.load } }, "Load"), ef.button({ acts: { click: model.clear } }, "Clear"), ef.button({ acts: { click: model.clear_json } }, "Clear JSON")), ef.section({ class: "v-flex" }, ta(model.list), ta(model.json), ef.p()));
    };
    const Item = () => {
        ;
    };
    const ta = (model) => ef.textarea({
        style: {
            height: "250px",
        },
        props: { value: model },
    });
})(ui || (ui = {}));
export const Page = (room) => PageA({
    index: room,
    content: ui.Content(room)
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAxLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vdHMtc3JjL2thZGFpLWRhbmNoaS0xLzEvMTMvMzAxLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQU8sRUFBRSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDdEQsT0FBTyxFQUFlLEtBQUssRUFBUSxNQUFNLG1CQUFtQixDQUFDO0FBRTdELE1BQU0sWUFBWSxHQUFHLENBQUUsSUFBZ0IsRUFBRyxFQUFFO0lBRTNDLE1BQU0sS0FBSyxHQUNYO1FBQ0MsSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBRSxJQUFJLEVBQUUsTUFBTSxDQUFFO1FBQ3JDLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUUsSUFBSSxFQUFFLEtBQUssQ0FBRTtRQUVwQyxJQUFJLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFFaEIsS0FBSyxDQUFDLEtBQUssRUFBRSxDQUFDO1lBRWQsTUFBTSxHQUFHLEdBQUcsTUFBTSxLQUFLLENBQUUsa0RBQWtELENBQUUsQ0FBQztZQUM5RSxJQUFJLEdBQUcsQ0FBQyxNQUFNLElBQUksR0FBRyxFQUNyQjtnQkFDQyxNQUFNLElBQUksR0FBRyxNQUFNLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFFOUIsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBRSxDQUFFLENBQU8sRUFBRSxDQUFVLEVBQUcsRUFBRSxDQUNqRDtvQkFDQyxNQUFNLENBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBRTtvQkFDZixDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBRSxDQUFDLEVBQUUsRUFBRSxDQUFFLENBQUMsT0FBTyxDQUFFLEdBQUcsRUFBRSxHQUFHLENBQUU7b0JBQ3ZDLENBQUMsQ0FBQyxHQUFHO29CQUNMLENBQUMsQ0FBQyxHQUFHO29CQUNMLENBQUMsQ0FBQyxJQUFJO29CQUNOLENBQUMsQ0FBQyxH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