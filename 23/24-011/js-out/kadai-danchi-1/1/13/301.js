import { Leaf, ef } from "../../../meh/index.js";
import { PageA } from "../../models/index.js";
const create_model = (room) => {
    const model = {
        json: new Leaf.String(room, "JSON"),
        list: new Leaf.String(room, "リスト"),
        load: async () => {
            const res = await fetch("https://www.jma.go.jp/bosai/quake/data/list.json");
            if (res.status == 200) {
                const data = await res.json();
                const ex = data.map((i, n) => [
                    String(n + 1),
                    i.at.slice(0, 19).replace("T", " "),
                    i.anm,
                    i.mag,
                    i.maxi
                ]
                    .join("\t")).join("\n");
                model.list.value = ex;
                model.json.value = JSON.stringify(data, null, "   ");
            }
        },
        clear_json: () => model.json.value = "",
    };
    return model;
};
const Content = (room) => {
    const model = create_model(room);
    return ef.section({ class: "" }, ef.section(ef.button({ acts: { click: model.load } }, "Load"), ef.button({ acts: { click: model.clear_json } }, "CJ")), ef.section({ class: "sec-3" }, ta(model.list), ta(model.json)));
};
const ta = (model) => ef.textarea({
    style: {
        height: "250px",
    },
    props: { value: model },
});
export const Page = (room) => PageA(room, Content(room));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAxLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vdHMtc3JjL2thZGFpLWRhbmNoaS0xLzEvMTMvMzAxLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQU8sRUFBRSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDdEQsT0FBTyxFQUFlLEtBQUssRUFBUSxNQUFNLHVCQUF1QixDQUFDO0FBRWpFLE1BQU0sWUFBWSxHQUFHLENBQUUsSUFBZ0IsRUFBRyxFQUFFO0lBRTNDLE1BQU0sS0FBSyxHQUNYO1FBQ0MsSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBRSxJQUFJLEVBQUUsTUFBTSxDQUFFO1FBQ3JDLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUUsSUFBSSxFQUFFLEtBQUssQ0FBRTtRQUVwQyxJQUFJLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFFaEIsTUFBTSxHQUFHLEdBQUcsTUFBTSxLQUFLLENBQUUsa0RBQWtELENBQUUsQ0FBQztZQUM5RSxJQUFJLEdBQUcsQ0FBQyxNQUFNLElBQUksR0FBRyxFQUNyQjtnQkFDQyxNQUFNLElBQUksR0FBRyxNQUFNLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFFOUIsTUFBTSxFQUFFLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBRSxDQUFFLENBQU8sRUFBRSxDQUFVLEVBQUcsRUFBRSxDQUMvQztvQkFDQyxNQUFNLENBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBRTtvQkFDZixDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBRSxDQUFDLEVBQUUsRUFBRSxDQUFFLENBQUMsT0FBTyxDQUFFLEdBQUcsRUFBRSxHQUFHLENBQUU7b0JBQ3ZDLENBQUMsQ0FBQyxHQUFHO29CQUNMLENBQUMsQ0FBQyxHQUFHO29CQUNMLENBQUMsQ0FBQyxJQUFJO2lCQUNOO3FCQUNBLElBQUksQ0FBRSxJQUFJLENBQUUsQ0FBRSxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUUsQ0FBQztnQkFFN0IsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO2dCQUN0QixLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFFLENBQUM7YUFDdkQ7UUFDRixDQUFDO1FBRUQsVUFBVSxFQUFFLEdBQUcsRUFBRSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsS0FBSyxHQUFHLEVBQUU7S0FDdkMsQ0FBQTtJQUVELE9BQU8sS0FBSyxDQUFDO0FBQ2QsQ0FBQyxDQUFBO0FBRUQsTUFBTSxPQUFPLEdBQUcsQ0FBRSxJQUFnQixFQUFtQixFQUFFO0lBRXRELE1BQU0sS0FBSyxHQUFHLFlBQVksQ0FBRSxJQUFJLENBQUUsQ0FBQztJQUVuQyxPQUFPLEVBQUUsQ0FBQyxPQUFPLENBRWhCLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBRSxFQUNiLEVBQUUsQ0FBQyxPQUFPLENBRVQsRUFBRSxDQUFDLE1BQU0sQ0FBRSxFQUFFLElBQUksRUFBRSxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsSUFBSSxFQUFFLEVBQUUsRUFBRSxNQUFNLENBQUUsRUFDcEQsRUFBRSxDQUFDLE1BQU0sQ0FBRSxFQUFFLElBQUksRUFBRSxFQUFFLEtBQUssRUFBRSxLQUFLLENBQUMsVUFBVSxFQUFFLEVBQUUsRUFBRSxJQUFJLENBQUUsQ0FDeEQsRUFDRCxFQUFFLENBQUMsT0FBTyxDQUVULEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxFQUNsQixFQUFFLENBQUUsS0FBSyxDQUFDLElBQUksQ0FBRSxFQUNoQixFQUFFLENBQUUsS0FBSyxDQUFDLElBQUksQ0FBRSxDQUNoQixDQUNELENBQUE7QUFDRixDQUFDLENBQUE7QUFFRCxNQUFNLEVBQUUsR0FBRyxDQUFFLEtBQW1CLEVBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQ2hEO0lBQ0EsS0FBSyxFQUNMO1FBQ0MsTUFBTSxFQUFFLE9BQU87S0FDZjtJQUNELEtBQUssRUFBRSxFQUFFLEtBQUssRUFBRSxLQUFLLEVBQUU7Q0FDdkIsQ0FBQyxDQUFDO0FBRUgsTUFBTSxDQUFDLE1BQU0sSUFBSSxHQUFpQixDQUFFLElBQUksRUFBRyxFQUFFLENBQUMsS0FBSyxDQUFFLElBQUksRUFBRSxPQUFPLENBQUUsSUFBSSxDQUFFLENBQUUsQ0FBQyJ9