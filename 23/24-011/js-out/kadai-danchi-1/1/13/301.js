import { Leaf, ef } from "../../../meh/index.js";
import { PageA } from "../../models/index.js";
const create_model = (room) => {
    const model = {
        json: new Leaf.String(room, "JSON"),
        list: new Leaf.String(room, "リスト"),
        load: async () => {
            const res = await fetch("https://www.jma.go.jp/bosai/quake/data/list.json");
            if (res.status == 200) {
                const data = await res.json();
                const list = data.map((i, n) => [
                    String(n + 1),
                    i.at.slice(0, 19).replace("T", " "),
                    i.anm,
                    i.mag,
                    i.maxi,
                    i.cod
                ]
                    .join("\t")).join("\n");
                model.list.value = list;
                model.json.value = JSON.stringify(data, null, "   ");
            }
        },
        clear_json: () => {
            model.json.value = "";
            model.list.value = "";
        }
    };
    model.load();
    return model;
};
const Content = (room) => {
    const model = create_model(room);
    return ef.section({ class: "" }, ef.section(ef.button({ acts: { click: model.load } }, "Load"), ef.button({ acts: { click: model.clear_json } }, "CJ")), ef.section({ class: "sec-3" }, ta(model.list), ta(model.json)));
};
const ta = (model) => ef.textarea({
    style: {
        height: "250px",
    },
    props: { value: model },
});
export const Page = (room) => PageA(room, Content(room));
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAxLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vdHMtc3JjL2thZGFpLWRhbmNoaS0xLzEvMTMvMzAxLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBRSxJQUFJLEVBQU8sRUFBRSxFQUFFLE1BQU0sdUJBQXVCLENBQUM7QUFDdEQsT0FBTyxFQUFlLEtBQUssRUFBUSxNQUFNLHVCQUF1QixDQUFDO0FBRWpFLE1BQU0sWUFBWSxHQUFHLENBQUUsSUFBZ0IsRUFBRyxFQUFFO0lBRTNDLE1BQU0sS0FBSyxHQUNYO1FBQ0MsSUFBSSxFQUFFLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBRSxJQUFJLEVBQUUsTUFBTSxDQUFFO1FBQ3JDLElBQUksRUFBRSxJQUFJLElBQUksQ0FBQyxNQUFNLENBQUUsSUFBSSxFQUFFLEtBQUssQ0FBRTtRQUVwQyxJQUFJLEVBQUUsS0FBSyxJQUFJLEVBQUU7WUFFaEIsTUFBTSxHQUFHLEdBQUcsTUFBTSxLQUFLLENBQUUsa0RBQWtELENBQUUsQ0FBQztZQUM5RSxJQUFJLEdBQUcsQ0FBQyxNQUFNLElBQUksR0FBRyxFQUNyQjtnQkFDQyxNQUFNLElBQUksR0FBRyxNQUFNLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztnQkFFOUIsTUFBTSxJQUFJLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBRSxDQUFFLENBQU8sRUFBRSxDQUFVLEVBQUcsRUFBRSxDQUNqRDtvQkFDQyxNQUFNLENBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBRTtvQkFDZixDQUFDLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBRSxDQUFDLEVBQUUsRUFBRSxDQUFFLENBQUMsT0FBTyxDQUFFLEdBQUcsRUFBRSxHQUFHLENBQUU7b0JBQ3ZDLENBQUMsQ0FBQyxHQUFHO29CQUNMLENBQUMsQ0FBQyxHQUFHO29CQUNMLENBQUMsQ0FBQyxJQUFJO29CQUNOLENBQUMsQ0FBQyxHQUFHO2lCQUNMO3FCQUNBLElBQUksQ0FBRSxJQUFJLENBQUUsQ0FBRSxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUUsQ0FBQztnQkFFN0IsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDO2dCQUN4QixLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFFLElBQUksRUFBRSxJQUFJLEVBQUUsS0FBSyxDQUFFLENBQUM7YUFDdkQ7UUFDRixDQUFDO1FBRUQsVUFBVSxFQUFFLEdBQUcsRUFBRTtZQUVoQixLQUFLLENBQUMsSUFBSSxDQUFDLEtBQUssR0FBRyxFQUFFLENBQUM7WUFDdEIsS0FBSyxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsRUFBRSxDQUFDO1FBQ3ZCLENBQUM7S0FDRCxDQUFBO0lBRUQsS0FBSyxDQUFDLElBQUksRUFBRSxDQUFDO0lBRWIsT0FBTyxLQUFLLENBQUM7QUFDZCxDQUFDLENBQUE7QUFFRCxNQUFNLE9BQU8sR0FBRyxDQUFFLElBQWdCLEVBQW1CLEVBQUU7SUFFdEQsTUFBTSxLQUFLLEdBQUcsWUFBWSxDQUFFLElBQUksQ0FBRSxDQUFDO0lBRW5DLE9BQU8sRUFBRSxDQUFDLE9BQU8sQ0FFaEIsRUFBRSxLQUFLLEVBQUUsRUFBRSxFQUFFLEVBQ2IsRUFBRSxDQUFDLE9BQU8sQ0FFVCxFQUFFLENBQUMsTUFBTSxDQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxJQUFJLEVBQUUsRUFBRSxFQUFFLE1BQU0sQ0FBRSxFQUNwRCxFQUFFLENBQUMsTUFBTSxDQUFFLEVBQUUsSUFBSSxFQUFFLEVBQUUsS0FBSyxFQUFFLEtBQUssQ0FBQyxVQUFVLEVBQUUsRUFBRSxFQUFFLElBQUksQ0FBRSxDQUN4RCxFQUNELEVBQUUsQ0FBQyxPQUFPLENBRVQsRUFBRSxLQUFLLEVBQUUsT0FBTyxFQUFFLEVBQ2xCLEVBQUUsQ0FBRSxLQUFLLENBQUMsSUFBSSxDQUFFLEVBQ2hCLEVBQUUsQ0FBRSxLQUFLLENBQUMsSUFBSSxDQUFFLENBQ2hCLENBQ0QsQ0FBQTtBQUNGLENBQUMsQ0FBQTtBQUVELE1BQU0sRUFBRSxHQUFHLENBQUUsS0FBbUIsRUFBRyxFQUFFLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FDaEQ7SUFDQSxLQUFLLEVBQ0w7UUFDQyxNQUFNLEVBQUUsT0FBTztLQUNmO0lBQ0QsS0FBSyxFQUFFLEVBQUUsS0FBSyxFQUFFLEtBQUssRUFBRTtDQUN2QixDQUFDLENBQUM7QUFFSCxNQUFNLENBQUMsTUFBTSxJQUFJLEdBQWlCLENBQUUsSUFBSSxFQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUUsSUFBSSxFQUFFLE9BQU8sQ0FBRSxJQUFJLENBQUUsQ0FBRSxDQUFDIn0=