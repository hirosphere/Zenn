import { ef, log } from "../../meh/index.js";
import * as models from "../um/index.js";
import { PageA } from "../um/um.page.js";
const vals = Object.values;
export const App = async (model) => {
    // models.navi.browser.index.value = null;
    return ef.div({ class: "root-bg" }, ef.div({ class: "root" }));
};
async (index) => {
    if (index instanceof models.navi.Room) {
        try {
            const module = await import(index.mod_path);
            const { Page } = module;
            log("dymport", Page);
            if (Page) {
                return Page(index);
            }
            ;
        }
        catch (err) {
            log(err);
            return ui.page.Default(index);
        }
    }
    return ef.main(ef.h1("課題団地"));
};
var ui;
(function (ui) {
    var page;
    (function (page) {
        page.Default = (room) => {
            return PageA({
                index: room,
                content: ef.section(ef.p("入居の準備中です"))
            });
        };
    })(page = ui.page || (ui.page = {}));
})(ui || (ui = {}));
(function (ui) {
    var navi;
    (function (navi) {
        navi.Danchi = (model) => {
            return ef.section({ class: "danchi-map" }, ef.section(...vals(model.parts).map(block => navi.Block(block))));
        };
        navi.Block = (model) => {
            return ef.section(ef.h2(model.index, "街区"), ef.section({ class: "buildings" }, ...vals(model.parts).map(part => Building(part))));
        };
        const Building = (model) => {
            return ef.section({ class: "building" }, ef.h3(model.path), ef.section({ class: "rooms" }, ...vals(model.parts).map(part => Room(part))));
        };
        const Room = (model) => {
            return ef.a({
                class: ["room", { available: model.available }],
                attrs: { href: model.link }
            }, model.index, ef.span(model.title));
        };
    })(navi = ui.navi || (ui.navi = {}));
})(ui || (ui = {}));
const SearchMonitor = (ps) => {
    return ef.article({}, ef.h2("URL Search"), ef.table(...Array.from(ps.entries()).map(([name, value]) => ef.tr(ef.td(name), ef.td(value)))), ef.section({ props: {}, attrs: {}, style: { display: "flex", gap: "1ex", } }), ef.section(ef.textarea({ props: { value: "Danchi" } })));
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidWkuYXBwLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vdHMtc3JjL2thZGFpLWRhbmNoaS0xL3VpL3VpLmFwcC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQSxPQUFPLEVBQW9CLEVBQUUsRUFBYyxHQUFHLEVBQUUsTUFBTSxvQkFBb0IsQ0FBQztBQUMzRSxPQUFPLEtBQUssTUFBTSxNQUFNLGdCQUFnQixDQUFDO0FBQ3pDLE9BQU8sRUFBRSxLQUFLLEVBQUUsTUFBTSxrQkFBa0IsQ0FBQztBQUV6QyxNQUFNLElBQUksR0FBRyxNQUFNLENBQUMsTUFBTSxDQUFDO0FBRTNCLE1BQU0sQ0FBQyxNQUFNLEdBQUcsR0FBRyxLQUFLLEVBQUcsS0FBa0IsRUFBRyxFQUFFO0lBRWpELDBDQUEwQztJQUUxQyxPQUFPLEVBQUUsQ0FBQyxHQUFHLENBRVosRUFBRSxLQUFLLEVBQUUsU0FBUyxFQUFFLEVBQ3BCLEVBQUUsQ0FBQyxHQUFHLENBRUwsRUFBRSxLQUFLLEVBQUUsTUFBTSxFQUFFLENBQ2pCLENBQ0QsQ0FBQztBQUNILENBQUMsQ0FBQztBQUVGLEtBQUssRUFBRyxLQUF5QixFQUFHLEVBQUU7SUFFckMsSUFBSSxLQUFLLFlBQVksTUFBTSxDQUFDLElBQUksQ0FBQyxJQUFJLEVBQ3JDO1FBQ0MsSUFDQTtZQUNDLE1BQU0sTUFBTSxHQUFHLE1BQU0sTUFBTSxDQUFFLEtBQUssQ0FBQyxRQUFRLENBQUUsQ0FBQztZQUM5QyxNQUFNLEVBQUUsSUFBSSxFQUFFLEdBQUcsTUFBTSxDQUFDO1lBRXhCLEdBQUcsQ0FBRSxTQUFTLEVBQUUsSUFBSSxDQUFFLENBQUM7WUFFdkIsSUFBSSxJQUFJLEVBQ1I7Z0JBQ0MsT0FBTyxJQUFJLENBQUUsS0FBSyxDQUFFLENBQUM7YUFDckI7WUFBQSxDQUFDO1NBQ0Y7UUFDRCxPQUFPLEdBQUcsRUFDVjtZQUNDLEdBQUcsQ0FBRSxHQUFHLENBQUUsQ0FBQztZQUNYLE9BQU8sRUFBRSxDQUFDLElBQUks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