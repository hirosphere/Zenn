import { bindText } from "./compo.js";
export class Parts {
    compo;
    ce;
    static create(compo, e, def, partdefindex = 0) {
        const parts = new Parts(compo, e, def, partdefindex);
        compo.partsList.add(parts);
    }
    //  //
    nodes = new Array;
    next = null;
    prev = null;
    constructor(compo, ce, def, partdefindex) {
        this.compo = compo;
        this.ce = ce;
        while (partdefindex < def.length) {
            const partdef = def[partdefindex++];
            const part = this.createPart(partdef, ce);
            this.nodes.push(part);
        }
    }
    createNext(def) {
        ;
    }
    get last() {
        return last(this.nodes) || null;
    }
    createPart(def, ce) {
        if (typeof def == "object" && "isElement" in def) {
            return this.compo.createElement(def, ce);
        }
        const n = document.createTextNode("");
        bindText(n, "nodeValue", def, this.compo.refs);
        ce.appendChild(n);
        return n;
    }
    terminate() {
        ;
    }
}
function last(arr) {
    return arr[arr.length - 1];
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFydHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi90cy1zcmMvbWVoL2RvbS9wYXJ0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQWEsUUFBUSxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBRWpELE1BQU0sT0FBTyxLQUFLO0lBZUk7SUFBMkI7SUFiaEQsTUFBTSxDQUFDLE1BQU0sQ0FBRSxLQUFpQixFQUFFLENBQVcsRUFBRSxHQUFrQixFQUFFLGVBQXdCLENBQUM7UUFFM0YsTUFBTSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsWUFBWSxDQUFFLENBQUM7UUFDdkQsS0FBSyxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUUsS0FBSyxDQUFFLENBQUM7SUFDOUIsQ0FBQztJQUVELE1BQU07SUFFSSxLQUFLLEdBQUcsSUFBSSxLQUFjLENBQUU7SUFFNUIsSUFBSSxHQUFrQixJQUFJLENBQUM7SUFDM0IsSUFBSSxHQUFrQixJQUFJLENBQUM7SUFFckMsWUFBcUIsS0FBaUIsRUFBVSxFQUFZLEVBQUUsR0FBaUIsRUFBRSxZQUFxQjtRQUFqRixVQUFLLEdBQUwsS0FBSyxDQUFZO1FBQVUsT0FBRSxHQUFGLEVBQUUsQ0FBVTtRQUUzRCxPQUFPLFlBQVksR0FBRyxHQUFHLENBQUMsTUFBTSxFQUNoQztZQUNDLE1BQU0sT0FBTyxHQUFHLEdBQUcsQ0FBRSxZQUFZLEVBQUcsQ0FBRSxDQUFDO1lBQ3ZDLE1BQU0sSUFBSSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUUsT0FBTyxFQUFFLEVBQUUsQ0FBRSxDQUFDO1lBQzVDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFFLElBQUksQ0FBRSxDQUFDO1NBQ3hCO0lBQ0YsQ0FBQztJQUVTLFVBQVUsQ0FBRSxHQUFpQjtRQUV0QyxDQUFDO0lBQ0YsQ0FBQztJQUVELElBQVcsSUFBSTtRQUVkLE9BQU8sSUFBSSxDQUFZLElBQUksQ0FBQyxLQUFLLENBQUUsSUFBSSxJQUFJLENBQUM7SUFDN0MsQ0FBQztJQUVTLFVBQVUsQ0FBRSxHQUFlLEVBQUUsRUFBWTtRQUVsRCxJQUFJLE9BQU8sR0FBRyxJQUFJLFFBQVEsSUFBSSxXQUFXLElBQUksR0FBRyxFQUNoRDtZQUNDLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxhQUFhLENBQUUsR0FBRyxFQUFFLEVBQUUsQ0FBRSxDQUFDO1NBQzNDO1FBRUQsTUFBTSxDQUFDLEdBQUcsUUFBUSxDQUFDLGNBQWMsQ0FBRSxFQUFFLENBQUUsQ0FBQztRQUN4QyxRQUFRLENBQUUsQ0FBQyxFQUFFLFdBQVcsRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUUsQ0FBQztRQUNqRCxFQUFFLENBQUMsV0FBVyxDQUFFLENBQUMsQ0FBRSxDQUFDO1FBRXBCLE9BQU8sQ0FBQyxDQUFDO0lBQ1YsQ0FBQztJQUVNLFNBQVM7UUFFZixDQUFDO0lBQ0YsQ0FBQztDQUNEO0FBRUQsU0FBUyxJQUFJLENBQVMsR0FBaUI7SUFFdEMsT0FBTyxHQUFHLENBQUUsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLENBQUUsQ0FBQztBQUM5QixDQUFDIn0=