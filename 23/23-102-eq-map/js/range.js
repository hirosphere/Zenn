import { Leaf, ef } from "./meh/index.js";
export class UIM {
    title;
    value;
    min;
    max;
    step;
    unit;
    conv;
    constructor(src) {
        this.title = src.title ?? "";
        this.value = src.value ?? new Leaf.Number(0);
        this.min = src.min ?? 0;
        this.max = src.max ?? 100;
        this.step = src.step ?? 1;
        this.unit = src.unit ?? "";
        this.conv = src.conv ?? ((value) => String(value));
    }
}
;
const { div, span, input } = ef;
export const UI = (uimsrc) => {
    const uim = new UIM(uimsrc);
    const cv = uim.value.strconv(uim.conv);
    const inputact = (ev) => {
        if (ev.target instanceof HTMLInputElement)
            uim.value.set(Number(ev.target.value));
    };
    return div({ class: "range" }, span({ class: "title" }, uim.title), input({
        class: "range",
        props: {
            min: uim.min,
            max: uim.max,
            step: uim.step,
            value: uim.value,
        },
        attrs: {
            type: "range",
        },
        acts: {
            change: inputact,
            input: inputact,
        }
    }), span({ class: "value-unit" }, span({ class: "value" }, cv), span({ class: "unit" }, uim.unit)));
};
export const Range = { UI };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicmFuZ2UuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi90cy1zcmMvcmFuZ2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFrQixJQUFJLEVBQUUsRUFBRSxFQUFFLE1BQU0sZ0JBQWdCLENBQUM7QUFFMUQsTUFBTSxPQUFPLEdBQUc7SUFFZixLQUFLLENBQWU7SUFDcEIsS0FBSyxDQUFnQjtJQUNyQixHQUFHLENBQWU7SUFDbEIsR0FBRyxDQUFlO0lBQ2xCLElBQUksQ0FBZTtJQUNuQixJQUFJLENBQWU7SUFDbkIsSUFBSSxDQUFpQztJQUVyQyxZQUFhLEdBQXFCO1FBRWpDLElBQUksQ0FBQyxLQUFLLEdBQUcsR0FBRyxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUM7UUFDN0IsSUFBSSxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsS0FBSyxJQUFJLElBQUksSUFBSSxDQUFDLE1BQU0sQ0FBRSxDQUFDLENBQUUsQ0FBQztRQUMvQyxJQUFJLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQyxDQUFDO1FBQ3hCLElBQUksQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsSUFBSSxHQUFHLENBQUM7UUFDMUIsSUFBSSxDQUFDLElBQUksR0FBRyxHQUFHLENBQUMsSUFBSSxJQUFJLENBQUMsQ0FBQztRQUMxQixJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQzNCLElBQUksQ0FBQyxJQUFJLEdBQUcsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFFLENBQUUsS0FBSyxFQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUUsS0FBSyxDQUFFLENBQUUsQ0FBQztJQUMxRCxDQUFDO0NBQ0Q7QUFBQSxDQUFDO0FBRUYsTUFBTSxFQUFFLEdBQUcsRUFBRSxJQUFJLEVBQUUsS0FBSyxFQUFFLEdBQUcsRUFBRSxDQUFDO0FBRWhDLE1BQU0sQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFFLE1BQXdCLEVBQUcsRUFBRTtJQUVoRCxNQUFNLEdBQUcsR0FBRyxJQUFJLEdBQUcsQ0FBRSxNQUFNLENBQUUsQ0FBQztJQUM5QixNQUFNLEVBQUUsR0FBRyxHQUFHLENBQUMsS0FBSyxDQUFDLE9BQU8sQ0FBRSxHQUFHLENBQUMsSUFBSSxDQUFFLENBQUM7SUFFekMsTUFBTSxRQUFRLEdBQUcsQ0FBRSxFQUFVLEVBQUcsRUFBRTtRQUVqQyxJQUFJLEVBQUUsQ0FBQyxNQUFNLFlBQVksZ0JBQWdCO1lBQUcsR0FBRyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUUsTUFBTSxDQUFFLEVBQUUsQ0FBQyxNQUFNLENBQUMsS0FBSyxDQUFFLENBQUUsQ0FBQztJQUN4RixDQUFDLENBQUM7SUFFRixPQUFPLEdBQUcsQ0FFVCxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUUsRUFDbEIsSUFBSSxDQUFFLEVBQUUsS0FBSyxFQUFFLE9BQU8sRUFBRSxFQUFFLEdBQUcsQ0FBQyxLQUFLLENBQUUsRUFDckMsS0FBSyxDQUNKO1FBQ0EsS0FBSyxFQUFFLE9BQU87UUFDZCxLQUFLLEVBQ0w7WUFDQyxHQUFHLEVBQUUsR0FBRyxDQUFDLEdBQUc7WUFDWixHQUFHLEVBQUUsR0FBRyxDQUFDLEdBQUc7WUFDWixJQUFJLEVBQUUsR0FBRyxDQUFDLElBQUk7WUFDZCxLQUFLLEVBQUUsR0FBRyxDQUFDLEtBQUs7U0FDaEI7UUFDRCxLQUFLLEVBQ0w7WUFDQyxJQUFJLEVBQUUsT0FBTztTQUNiO1FBQ0QsSUFBSSxFQUNKO1lBQ0MsTUFBTSxFQUFFLFFBQVE7WUFDaEIsS0FBSyxFQUFFLFFBQVE7U0FDZjtLQUNELENBQUMsRUFDRixJQUFJLENBRUgsRUFBRSxLQUFLLEVBQUUsWUFBWSxFQUFFLEVBQ3ZCLElBQUksQ0FBRSxFQUFFLEtBQUssRUFBRSxPQUFPLEVBQUMsRUFBRSxFQUFFLENBQUUsRUFDN0IsSUFBSSxDQUFFLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxFQUFFLEdBQUcsQ0FBQyxJQUFJLENBQUUsQ0FDbkMsQ0FDRCxDQUFDO0FBQ0gsQ0FBQyxDQUFDO0FBRUYsTUFBTSxDQUFDLE1BQU0sS0FBSyxHQUFHLEVBQUUsRUFBRSxFQUFFLENBQUMifQ==