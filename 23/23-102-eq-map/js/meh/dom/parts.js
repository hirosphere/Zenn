import { bindText } from "./compo.js";
export class Parts {
    compo;
    ce;
    static create(compo, e, def, partdefindex = 0) {
        const parts = new Parts(compo, e, def, partdefindex);
    }
    //  //
    nodes = new Array;
    next;
    prev;
    constructor(compo, ce, def, partdefindex) {
        this.compo = compo;
        this.ce = ce;
        compo.partsList ??= this;
        while (partdefindex < def.length) {
            const partdef = def[partdefindex++];
            const part = this.createPart(partdef, ce);
            this.nodes.push(part);
        }
    }
    createNext(def) {
        ;
    }
    get last() {
        return last(this.nodes) || null;
    }
    createPart(def, ce) {
        if (typeof def == "object" && "isElement" in def) {
            return this.compo.createElement(def, ce);
        }
        const n = document.createTextNode("");
        bindText(n, "nodeValue", def, this.compo.refs);
        ce.appendChild(n);
        return n;
    }
    delete() {
        this.next?.delete();
    }
}
function last(arr) {
    return arr[arr.length - 1];
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFydHMuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi90cy1zcmMvbWVoL2RvbS9wYXJ0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFDQSxPQUFPLEVBQWEsUUFBUSxFQUFFLE1BQU0sWUFBWSxDQUFDO0FBRWpELE1BQU0sT0FBTyxLQUFLO0lBY0k7SUFBMkI7SUFaaEQsTUFBTSxDQUFDLE1BQU0sQ0FBRSxLQUFpQixFQUFFLENBQVcsRUFBRSxHQUFrQixFQUFFLGVBQXdCLENBQUM7UUFFM0YsTUFBTSxLQUFLLEdBQUcsSUFBSSxLQUFLLENBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxHQUFHLEVBQUUsWUFBWSxDQUFFLENBQUM7SUFDeEQsQ0FBQztJQUVELE1BQU07SUFFSSxLQUFLLEdBQUcsSUFBSSxLQUFjLENBQUU7SUFFNUIsSUFBSSxDQUFXO0lBQ2YsSUFBSSxDQUFXO0lBRXpCLFlBQXFCLEtBQWlCLEVBQVUsRUFBWSxFQUFFLEdBQWlCLEVBQUUsWUFBcUI7UUFBakYsVUFBSyxHQUFMLEtBQUssQ0FBWTtRQUFVLE9BQUUsR0FBRixFQUFFLENBQVU7UUFFM0QsS0FBSyxDQUFDLFNBQVMsS0FBSyxJQUFJLENBQUM7UUFFekIsT0FBTyxZQUFZLEdBQUcsR0FBRyxDQUFDLE1BQU0sRUFDaEM7WUFDQyxNQUFNLE9BQU8sR0FBRyxHQUFHLENBQUUsWUFBWSxFQUFHLENBQUUsQ0FBQztZQUN2QyxNQUFNLElBQUksR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFFLE9BQU8sRUFBRSxFQUFFLENBQUUsQ0FBQztZQUM1QyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBRSxJQUFJLENBQUUsQ0FBQztTQUN4QjtJQUNGLENBQUM7SUFFUyxVQUFVLENBQUUsR0FBaUI7UUFFdEMsQ0FBQztJQUNGLENBQUM7SUFFRCxJQUFXLElBQUk7UUFFZCxPQUFPLElBQUksQ0FBWSxJQUFJLENBQUMsS0FBSyxDQUFFLElBQUksSUFBSSxDQUFDO0lBQzdDLENBQUM7SUFFUyxVQUFVLENBQUUsR0FBZSxFQUFFLEVBQVk7UUFFbEQsSUFBSSxPQUFPLEdBQUcsSUFBSSxRQUFRLElBQUksV0FBVyxJQUFJLEdBQUcsRUFDaEQ7WUFDQyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsYUFBYSxDQUFFLEdBQUcsRUFBRSxFQUFFLENBQUUsQ0FBQztTQUMzQztRQUVELE1BQU0sQ0FBQyxHQUFHLFFBQVEsQ0FBQyxjQUFjLENBQUUsRUFBRSxDQUFFLENBQUM7UUFDeEMsUUFBUSxDQUFFLENBQUMsRUFBRSxXQUFXLEVBQUUsR0FBRyxFQUFFLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFFLENBQUM7UUFDakQsRUFBRSxDQUFDLFdBQVcsQ0FBRSxDQUFDLENBQUUsQ0FBQztRQUVwQixPQUFPLENBQUMsQ0FBQztJQUNWLENBQUM7SUFFTSxNQUFNO1FBRVosSUFBSSxDQUFDLElBQUksRUFBRSxNQUFNLEVBQUUsQ0FBQztJQUNyQixDQUFDO0NBQ0Q7QUFFRCxTQUFTLElBQUksQ0FBUyxHQUFpQjtJQUV0QyxPQUFPLEdBQUcsQ0FBRSxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBRSxDQUFDO0FBQzlCLENBQUMifQ==